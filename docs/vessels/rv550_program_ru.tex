\twocolumn
\onehalfspacing


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Общее описание}
Полёт КА может быть автоматизирован используя бортовой программируемый контроллер событий. Состояние контроллера событий отображается на экране МФЭ \reg{PROGRAM}. Ввод команды производится клавиатурой расположенной под МФЭ.

Бортовой программируемый контроллер событий позволяет выполнить некоторую команду при достижении события. Каждая команда указывается как трёхзначное шестнадцатеричное число, за которым может следовать один параметр.

Команды вводятся используя клавиатуру. Для ввода следующей команды необходимо нажать клавишу \reg{+} (клавиша \reg{-} вернёт указатель на предыдущую команду). После ввода команды следует нажать клавишу \reg{EXEC}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Формат команд}
Первая цифра указывает событие, при котором эта команда будет выполнена:
\begin{center} \begin{tabular}{|c|p{2.4in}|} \hline 
Цифра & Название \\ \hline 
\reg{0} & Никогда \\ \hline 
\reg{1} & В перигее \\ \hline 
\reg{2} & В апогее \\ \hline 
\reg{3} & При входе в атмосферу \\ \hline 
\reg{4} & В точке, где нужно сделать импульс двигателем для схода с орбиты \\ \hline 
\reg{5} & При срабатывании таймера \\ \hline 
\reg{6} & В ближайшем апогее или перигее \\ \hline 
\reg{F} & Сразу-же \\ \hline 
\end{tabular} \end{center}

\textbf{Примечание:} после отсоединения второй ступени таймер апогея (\reg{2}) всегда будет ранее чем апогей. В случае если вторая ступень была сброшена после апогея таймер будет сброшен в значение двух минут.

Вторая цифра указывает режим ЦАП или выбирает команду:
\begin{center} \begin{tabular}{|c|p{2.4in}|} \hline 
Цифра & Режим \\ \hline 
\reg{0} & Отключить ЦАП \\ \hline 
\reg{1} & KILL ROT (удаление остатка угловых скоростей) \\ \hline 
\reg{2} & ATT PRO (прямая ориентация за вектором скорости) \\ \hline 
\reg{3} & ATT RET (ретроградная ориентация) \\ \hline 
\reg{4} & AUTO (автовыбор режима) \\ \hline
\reg{F} & Выполнить команду \\ \hline 
\end{tabular} \end{center}

Смена режима выполняется за 5 минут до срабатывания таймера.

Автоматический режим выбирается за такой логикой (если выбран тип импульса \reg{2 SMA TRANS}):
\begin{center} \begin{tabular}{|p{2.4in}|c|} \hline 
Причина & Режим \\ \hline 
КА приближается к апогею, целевая высота выше перигея & \reg{ATT PRO} \\ \hline 
КА приближается к апогею, целевая высота ниже перигея & \reg{ATT RET} \\ \hline 
КА приближается к перигею, целевая высота выше апогея & \reg{ATT PRO} \\ \hline 
КА приближается к перигею, целевая высота ниже апогея & \reg{ATT RET} \\ \hline 
\end{tabular} \end{center}

Если вторая цифра не \reg{F}, то третья цифра выбирает тип импульса, иначе выполняется команда:
\begin{center} \begin{tabular}{|c|p{2.4in}|} \hline 
Цифра & Команда \\ \hline 
\reg{x0} & Заданный импульс (параметр указан в $\dfrac{м}{с}$) \\ \hline 
\reg{x1} & Импульс для входа в атмосферу \\ \hline 
\reg{x2} & Смена полуоси (параметр в километрах) \\ \hline 
\reg{xF} & Не выполнять импульс \\ \hline
\reg{F0} & Выставить таймер (параметр в секундах) \\ \hline
\reg{F1} & Сброс приборно-агрегатного отсека (код \reg{7193}) \\ \hline
\end{tabular} \end{center}

Смена полуоси (\reg{SMA TRANS}) используется для изменения орбитальных элементов. Параметр указывает целевую высоту перигея или апогея (импульс должен быть выполнен в одной из этих точек).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\onecolumn
\section{Управление внутренними переменными}
Расширенное управление работой бортового вычислительного комплекса возможно используя ввод команды \reg{ITEM}, затем номера переменной, знака нового значения переменной (\reg{+} или \reg{-}), а затем нового значения.

Доступны такие переменные:
\begin{center} \begin{tabular}{|c|c|p{4.5in}|} \hline 
Номер & Значение & Описание \\ \hline 
\reg{1} & -0.30 & Phi (угол входа в атмосферу, между -0.2 и -2.5) \\ \hline 
\reg{2} & Н/д & Широта заданной точки посадки \\ \hline 
\reg{3} & Н/д & Долгота заданной точки посадки \\ \hline 
\reg{4} & 250 & Целевой апогей в километрах (при ведении на взлёте) \\ \hline 
\reg{5} & -10 & Целевой перигей в километрах (при ведении на взлёте) \\ \hline 
\reg{6} & 45 & Целевой уклон орбиты в градусах \\ \hline 
\reg{7} & 135 & Целевая истинная аномалия (180 указывает на апогей, 135 указывает немного ранее апогея) \\ \hline 
\reg{8} & 120 & Высота условной точки входа в атмосферу в километрах \\ \hline 
\end{tabular} \end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Список команд}

В данной главе указаны некоторые полезные команды.

\begin{center} \begin{tabular}{|l|p{5.0in}|} \hline 
Команда & Описание \\ \hline 
\reg{000} & Очистка текущей команды \\ \hline

\reg{431} & Автоматический сход с орбиты \\ \hline
\reg{220 12} & Увеличение скорости на 12 $\frac{м}{с}$ в апогее) \\ \hline
\reg{FF1 600} & Выставить таймер в 600 секунд \\ \hline
\reg{50F} & Отключение ЦАП (режим \reg{IDLE}) по таймеру \\ \hline
\reg{222 230} & Enter orbit, increase perigee to 230 km \\ \hline 

\reg{3F1 7193} & Отстыковка приборно-агрегатного отсека при входе в атмосферу \\ \hline
\reg{342 567} дважды & Установление круговой орбиты на высоте 567 km (в данный момент пока не возможно текущими навигационными средствами для некруглой земли) \\ \hline
\reg{ITEM 1 -1.00} & Выставить целевой угол входа в атмосферу в -1.0 градус\\ \hline

\end{tabular} \end{center}